# === Core Engine ===
OPENAI_API_KEY=
OPENAI_API_URL=
OPENAI_MODEL=
# Context compaction thresholds
# Defaults: trigger = 75% of CONTEXT_WINDOW_TOKENS, target = 50%
CONTEXT_WINDOW_TOKENS=128000
# COMPACT_TRIGGER=96000
# COMPACT_TARGET=64000
# KEEP_LAST_TURNS=4
# Optional: dedicated model for compaction summaries (fallback: OPENAI_MODEL/ANTHROPIC_MODEL)
# COMPACT_SUMMARY_MODEL=gpt-4o-mini

# === Gemini Pro Image Tool ===
# Required to enable gemini_pro_image built-in tool
GEMINI_API_KEY=
# Optional endpoint override (Google default: https://generativelanguage.googleapis.com/v1beta)
# For ZenMux Vertex AI set: https://zenmux.ai/api/vertex-ai
GEMINI_API_BASE_URL=
# Optional model override (default: gemini-pro-image)
# For ZenMux Vertex AI prefer provider-qualified model, e.g. google/gemini-3-pro-image-preview
GEMINI_PRO_IMAGE_MODEL=

# === Server ===
PORT=3000
# Bind address (default public; use 127.0.0.1 to lock down all routes)
HOST=0.0.0.0

# === Memory Plugin ===
# Enable semantic recall and vector scoring.
MEMORY_SEMANTIC_RECALL_ENABLED=true
# hash (local lightweight) | openai (model embeddings)
MEMORY_EMBEDDING_STRATEGY=hash
# Hash strategy defaults to 256; OpenAI strategy defaults to 1536.
MEMORY_EMBEDDING_DIMENSIONS=256
# Optional timeout for openai strategy
MEMORY_EMBEDDING_TIMEOUT_MS=15000
# Optional dedicated embedding endpoint credentials (falls back to OPENAI_* when empty)
MEMORY_EMBEDDING_API_KEY=
MEMORY_EMBEDDING_API_URL=
# Optional; falls back to OPENAI_EMBEDDING_MODEL and then text-embedding-3-small
MEMORY_EMBEDDING_MODEL=

# === 飞书 / Feishu ===
FEISHU_APP_ID=
FEISHU_APP_SECRET=
FEISHU_ENCRYPT_KEY=
FEISHU_VERIFICATION_TOKEN=
# Optional custom Feishu Open API base URL (default: https://open.feishu.cn)
FEISHU_API_BASE_URL=

# === Discord ===
DISCORD_PUBLIC_KEY=
# Required for DM direct-message mode (Gateway + Bot API)
DISCORD_BOT_TOKEN=
# Optional endpoint override (default: https://discord.com/api/v10)
DISCORD_API_BASE_URL=
# Optional gateway override (default: wss://gateway.discord.gg/?v=10&encoding=json)
DISCORD_GATEWAY_URL=
# Optional dedicated proxy for Discord REST + Gateway only (e.g. http://127.0.0.1:7890)
DISCORD_PROXY_URL=
# Set false/0/off/no to disable Discord Gateway listener (DM + guild @mention)
DISCORD_DM_GATEWAY_ENABLED=true

# === Telegram ===
TELEGRAM_BOT_TOKEN=
# Optional: X-Telegram-Bot-Api-Secret-Token for webhook verification
TELEGRAM_WEBHOOK_SECRET=

# === Internal Automation API ===
# Optional in development, required in production for /internal/* endpoints
INTERNAL_API_SECRET=

# === Web API ===
# Optional: Bearer token for /api/* endpoints
WEB_API_SECRET=
# Comma-separated allowed CORS origins
CORS_ORIGINS=http://localhost:5173
